<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>7 AT3 9</title>
  <style>
    body {
      margin: 0;
      font-size: 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      position: relative;
      overflow: hidden;
      cursor: none;
      background: none;
    }

    .background-toggle {
      margin-top: 10px;
      z-index: 5;
    }

    .background-toggle label {
      margin: 0 10px;
      cursor: pointer;
    }

    .title {
      width: auto;
      height: auto;
      max-width: 700px;
      margin-top: 50px;
      margin-bottom: 10px;
      pointer-events: none;
    }

    img.title:hover {
      transform: none !important;
    }

    .container {
      display: flex;
      gap: 20px;
      text-align: center;
      z-index: 1;
      margin-top: 0;
      margin-bottom: 20px;
      position: relative;
    }

    .image-block {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    img {
      width: 200px;
      height: 200px;
      object-fit: cover;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: none;
      margin-top: 10px;
    }

    img:hover {
      transform: scale(1.1);
    }

    input[type="range"] {
      margin-top: 10px;
      width: 200px;
      height: 20px;
      -webkit-appearance: none;
      appearance: none;
      background: transparent;
      position: relative;
      z-index: 2;
      border: 1px solid black;
      border-radius: 10px;
      cursor: none;
    }

    input[type="range"]:focus {
      outline: none;
    }

    input[type="range"]::-webkit-slider-runnable-track {
      width: 100%;
      height: 10px;
      background: linear-gradient(to right, white 0%, white 100%);
      border-radius: 10px;
      border: 1px solid black;
    }

    input[type="range"]::-moz-range-track {
      height: 10px;
      background: white;
      border-radius: 10px;
      border: 1px solid black;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      margin-top: -6px;
      width: 0;
      height: 0;
      border-left: 8px solid transparent;
      border-right: 8px solid transparent;
      border-bottom: 14px solid #333;
      background: transparent;
      position: relative;
      z-index: 2;
      cursor: none;
      transition: border-bottom-color 0.2s ease;
    }

    input[type="range"]::-moz-range-thumb {
      width: 0;
      height: 0;
      border-left: 8px solid transparent;
      border-right: 8px solid transparent;
      border-bottom: 14px solid #333;
      background: transparent;
      position: relative;
      z-index: 2;
      cursor: none;
      transition: border-bottom-color 0.2s ease;
    }

    input[type="range"]:hover::-webkit-slider-thumb {
      border-bottom-color: red;
    }

    input[type="range"]:hover::-moz-range-thumb {
      border-bottom-color: red;
    }

    .caption {
      margin-top: 8px;
      font-size: 24px;
      color: blue;
      text-decoration: underline;
      visibility: hidden;
      cursor: none;
    }

    .caption:hover {
      color:red;
    }

    .cursor-halo {
      position: fixed;
      top: 0;
      left: 0;
      width: 80px;
      height: 80px;
      background: radial-gradient(circle, rgba(255,255,255,0.60) 0%, rgba(0,140,255,0.5) 60%, rgba(0,140,255,0) 100%);
      border-radius: 50%;
      pointer-events: none;
      transform: translate(-40px, -40px);
      z-index: 1000;
      mix-blend-mode: screen;
      filter: blur(4px);
    }

    .footer-links {
      position: absolute;
      right: 400px;
      bottom: 100px;
      z-index: 20;
    }

    .footer-links a {
      margin-left: 20px;
    }
  </style>
</head>
<body>

  <div class="cursor-halo"></div>

  <!-- Background Selector -->
  <!-- <div class="background-toggle">
    <label><input type="radio" name="bg" onclick="changeBackground('none')" checked></label>
    <label><input type="radio" name="bg" onclick="changeBackground('./img/bg.gif')"></label>
    <label><input type="radio" name="bg" onclick="changeBackground('./img/bg2.gif')"></label>
    <label><input type="radio" name="bg" onclick="changeBackground('./img/bg3.gif')"></label>
  </div> -->

  <!-- Title Image -->
  <img src="./img/title.png" class="title">

  <!-- Main Content -->
  <div class="container">
    <div class="image-block">
      <img id="img1" src="./img/wk7COVER.webp" alt="Week 7 Cover">
      <input type="range" min="0" max="100" value="0" oninput="applyEffects(this, 'img1')">
      <a href="./week7/index.html" class="caption">Week 7</a>
    </div>

    <div class="image-block">
      <img id="img2" src="./img/wk8COVER.webp" alt="Week 8 Cover">
      <input type="range" min="0" max="100" value="0" oninput="applyEffects(this, 'img2')">
      <a href="./week8/index.html" class="caption">Week 8</a>
    </div>

    <div class="image-block">
      <img id="img3" src="./img/wk9COVER.webp" alt="Week 9 Cover">
      <input type="range" min="0" max="100" value="0" oninput="applyEffects(this, 'img3')">
      <a href="./week9/index.html" class="caption">Week 9</a>
    </div>
  </div>

  <!-- Footer links -->
  <div class="footer-links">
    <a href="javascript:location.reload()">Refresh</a>
    <a href="../index.html">Back</a>
  </div>

  <script>
    function applyEffects(slider, imgId) {
      const value = slider.value;
      const img = document.getElementById(imgId);
      img.style.filter = `invert(${value}%)`;

      slider.style.background = `
        linear-gradient(to right,
          red 0%, orange 17%, yellow 34%, green 51%, cyan 68%, blue 85%, violet 100%
        ),
        linear-gradient(to right, white ${value}%, white 100%)
      `;
      slider.style.backgroundBlendMode = "multiply";
    }

    window.onload = () => {
      const sliders = document.querySelectorAll('input[type="range"]');
      sliders.forEach(slider => {
        applyEffects(slider, slider.previousElementSibling.id);
      });

      const images = document.querySelectorAll('img');
      images.forEach(img => {
        img.addEventListener('click', () => {
          const caption = img.nextElementSibling.nextElementSibling;
          caption.style.visibility =
            caption.style.visibility === 'visible' ? 'hidden' : 'visible';
        });
      });
    };

    // function changeBackground(src) {
    //   if (src === 'none') {
    //     document.body.style.backgroundImage = 'none';
    //   } else {
    //     document.body.style.backgroundImage = `url(${src})`;
    //     document.body.style.backgroundRepeat = 'no-repeat';
    //     document.body.style.backgroundSize = 'cover';
    //     document.body.style.backgroundPosition = 'center';
    //   }
    // }

    const halo = document.querySelector('.cursor-halo');
    let mouseX = 0, mouseY = 0;
    let haloX = 0, haloY = 0;

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    function animateHalo() {
      haloX += (mouseX - haloX) * 0.1;
      haloY += (mouseY - haloY) * 0.1;
      halo.style.left = `${haloX}px`;
      halo.style.top = `${haloY}px`;
      requestAnimationFrame(animateHalo);
    }

    animateHalo();

    sessionStorage.removeItem('checkboxStates');
  </script>

</body>
</html>
