<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>7 AT3 9</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      position: relative;
      overflow: hidden;
      cursor: none; /* Hide default cursor */
      background-image: url(./img/bg.gif);
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
    }

    .container {
      display: flex;
      gap: 40px;
      text-align: center;
      z-index: 1;
    }

    .image-block {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    img {
      width: 200px;
      height: 200px;
      object-fit: cover;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: none;
    }

    img:hover {
      transform: scale(1.05);
    }

    input[type="range"] {
      margin-top: 10px;
      width: 200px;
      height: 20px;
      -webkit-appearance: none;
      appearance: none;
      background: transparent;
      position: relative;
      z-index: 2;
      border: 1px solid black;
      border-radius: 10px;
      cursor: none;
    }

    input[type="range"]:focus {
      outline: none;
    }

    input[type="range"]::-webkit-slider-runnable-track {
      width: 100%;
      height: 10px;
      background: linear-gradient(to right, white 0%, white 100%);
      border-radius: 10px;
      border: 1px solid black;
    }

    input[type="range"]::-moz-range-track {
      height: 10px;
      background: white;
      border-radius: 10px;
      border: 1px solid black;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      margin-top: -6px;
      width: 0;
      height: 0;
      border-left: 8px solid transparent;
      border-right: 8px solid transparent;
      border-bottom: 14px solid #333;
      background: transparent;
      position: relative;
      z-index: 2;
      cursor: none;
      transition: border-bottom-color 0.2s ease;
    }

    input[type="range"]::-moz-range-thumb {
      width: 0;
      height: 0;
      border-left: 8px solid transparent;
      border-right: 8px solid transparent;
      border-bottom: 14px solid #333;
      background: transparent;
      position: relative;
      z-index: 2;
      cursor: none;
      transition: border-bottom-color 0.2s ease;
    }

    /* Hover effect for triangle thumb */
    input[type="range"]:hover::-webkit-slider-thumb {
      border-bottom-color: red;
    }

    input[type="range"]:hover::-moz-range-thumb {
      border-bottom-color: red;
    }

    .caption {
      margin-top: 8px;
      font-size: 14px;
      color: #333;
      text-decoration: underline;
      visibility: hidden;
      cursor: none;
    }

    /* Halo cursor */
    .cursor-halo {
      position: fixed;
      top: 0;
      left: 0;
      width: 80px;
      height: 80px;
      background: radial-gradient(circle, rgba(255,255,255,0.60) 0%, rgba(0,140,255,0.5) 60%, rgba(0,140,255,0) 100%);
      border-radius: 50%;
      pointer-events: none;
      transform: translate(-40px, -40px); /* Center white part to cursor */
      z-index: 1000;
      mix-blend-mode: screen;
      filter: blur(4px);
    }
  </style>
</head>
<body>

  <div class="cursor-halo"></div>

  <div class="container">
    <div class="image-block">
      <img id="img1" src="./img/wk7COVER.webp" alt="Week 7 Cover">
      <input type="range" min="0" max="100" value="0" oninput="applyEffects(this, 'img1')">
      <div class="caption">/week 7</div>
    </div>

    <div class="image-block">
      <img id="img2" src="./img/wk8COVER.webp" alt="Week 8 Cover">
      <input type="range" min="0" max="100" value="0" oninput="applyEffects(this, 'img2')">
      <div class="caption">/week 8</div>
    </div>

    <div class="image-block">
      <img id="img3" src="./img/wk9COVER.webp" alt="Week 9 Cover">
      <input type="range" min="0" max="100" value="0" oninput="applyEffects(this, 'img3')">
      <div class="caption">/week 9</div>
    </div>
  </div>

  <script>
    function applyEffects(slider, imgId) {
      const value = slider.value;
      const img = document.getElementById(imgId);
      img.style.filter = `invert(${value}%)`;

      slider.style.background = `
        linear-gradient(to right,
          red 0%, orange 17%, yellow 34%, green 51%, cyan 68%, blue 85%, violet 100%
        ),
        linear-gradient(to right, white ${value}%, white 100%)
      `;
      slider.style.backgroundBlendMode = "multiply";
    }

    window.onload = () => {
      const sliders = document.querySelectorAll('input[type="range"]');
      sliders.forEach(slider => {
        applyEffects(slider, slider.previousElementSibling.id);
      });

      const images = document.querySelectorAll('img');
      images.forEach(img => {
        img.addEventListener('click', () => {
          const caption = img.nextElementSibling.nextElementSibling;
          caption.style.visibility =
            caption.style.visibility === 'visible' ? 'hidden' : 'visible';
        });
      });
    };

    // Smooth trailing halo cursor
    const halo = document.querySelector('.cursor-halo');
    let mouseX = 0, mouseY = 0;
    let haloX = 0, haloY = 0;

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    function animateHalo() {
      haloX += (mouseX - haloX) * 0.1;
      haloY += (mouseY - haloY) * 0.1;
      halo.style.left = `${haloX}px`;
      halo.style.top = `${haloY}px`;
      requestAnimationFrame(animateHalo);
    }

    animateHalo();
  </script>

</body>
</html>
